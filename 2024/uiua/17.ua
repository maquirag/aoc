# AoC 2024/17 Chronospatial Computer
# TODO
# Experimental!
&fras "2024/input/17t.txt"
â†¯âˆ_2 âŠƒâ†˜â†™3 âŠœâ‹•âŠ¸âˆŠ +@0â‡¡10
Inst â† # instructions
# Operands: 0-3 = op; 4 = A; 5 = B; 6 = C
Op â† â¨¬âŠ¡âˆ˜âŠƒ<â—¿4
# Operators:
DV!   â† âœ^0â—Œ:âŒŠÃ·ğ„ˆâ¿2âŠ¸âŠƒOpâ‹…âŠ¢
BX!   â† âœâŠ¡â‚â—Œâ¤™(âœ(â‹¯|âŒµ/-)âŠŸâŠƒ(^0|â‹…âŠ¡â‚))
Xor   â† âœ(â‹¯|âŒµ/-)âŠŸ
Adv   â† DV!âŠ¢           # 0 adv = A / 2^op -> trunc -> A
Bxl   â† BX!âˆ˜           # 1 bxl = XOR B n -> B
Bst   â† âœâŠ¡â‚â—Œ:â—¿8âŠ¸Op     # 2 bst = op mod 8 -> B
Jnz   â† â¨¬(â—Œ|â¤šâ‹…âŠ™â—Œ-â‚)Â±âŠ¢, # 3 jnz = if A==0 then noop else jump n
Bxc   â† BX!â‹…âŠ£          # 4 bxc = XOR B C -> B
Out   â† &pf$"_,"â—¿8âŠ¸Op  # 5 out = op mod 8 -> out
Bdv   â† DV!âŠ¡â‚          # 6 bdv = A / 2^op -> trunc -> B
Cdv   â† DV!âŠ£           # 7 cdv = A / 2^op -> trunc -> C
Proc  â† â¨¬(Adv|Bxl|Bst|Jnz|Bxc|Out|Bdv|Cdv)
Partâ‚ â† â—Œâ—Œ&p""â¢(âŠ™+â‚ Proc Â°âŠŸğ„ˆâŠ¡Inst,|<â§»Inst,) âŠ™0
Partâ‚
